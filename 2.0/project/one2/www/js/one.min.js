var one={getCopyRightInfo:function(){try{var b=getJSON("http://211.152.49.184:7001/OneForWeb/onest/getCrInf");return b.entCr["strCR"]}catch(a){return null}},getHpAdMultiInfoAsync:function(a){setTimeout(function(){var c;try{c=getJSON("http://211.152.49.184:7001/OneForWeb/one/getHpAdMultiinfo");if(c.result==="SUCCESS"){a(c)}}catch(b){a(null)}},0)},getHpAdMultiinfo:function(){var b;try{b=getJSON("http://211.152.49.184:7001/OneForWeb/one/getHpAdMultiinfo");if(b.result==="SUCCESS"){return b}}catch(a){return null}},getLateds30dayPraiseNumber:function(){try{var b=getJSON("http://211.152.49.184:7001/OneForWeb/one/getLateds30dayPraiseNumber");return b}catch(a){return null}},getMobileDispDays:function(){try{var b=getJSON("http://211.152.49.184:7001/OneForWeb/one/getMobileDispDays");return b}catch(a){return null}},getTPage:function(){try{var b=getJSON("http://211.152.49.184:7001/OneForWeb/one/getTPage");return b}catch(a){return null}},getHomePageAsync:function(a,b){setTimeout(this.getJSONAsync(a,"home","http://211.152.49.184:7001/OneForWeb/one/getHpinfo?strDate="+a,function(c){try{var f=getJSON(c);if(f.result==="SUCCESS"){b(f)}else{setTimeout(removeFile(a,"home"),0);b(null)}}catch(d){console.log("[ONE]获取首页数据出错"+d);setTimeout(removeFile(a,"home"),0);b(null)}}),1)},getHomePage:function(a){try{var c=getJSON("http://211.152.49.184:7001/OneForWeb/one/getHpinfo?strDate="+a);return c}catch(b){return null}},getOneContentInfoAsync:function(a,b){setTimeout(this.getJSONAsync(a,"content","http://211.152.49.184:7001/OneForWeb/one/getOneContentInfo?strDate="+a,function(c){try{var f=getJSON(c);if(f.result==="SUCCESS"){b(f)}else{setTimeout(removeFile(a,"content"),0);b(null)}}catch(d){console.log("[ONE]获取内容数据失败");console.log(d);setTimeout(removeFile(a,"content"),0);b(null)}}),1)},getOneContentInfo:function(a){try{var c=getJSON("http://211.152.49.184:7001/OneForWeb/one/getOneContentInfo?strDate="+a);return c}catch(b){return null}},getOneQuestionInfoAsync:function(a,b){setTimeout(this.getJSONAsync(a,"question","http://211.152.49.184:7001/OneForWeb/one/getOneQuestionInfo?strDate="+a,function(c){try{var f=getJSON(c);if(f.result==="SUCCESS"){b(f)}else{console.log("[ONE]获取问题的API返回了FAIL，删除下载错误的文件。");setTimeout(removeFile(a,"question"),0);b(null)}}catch(d){setTimeout(removeFile(a,"question"),0);console.log("[ONE]API超时或数据错误。"+d);b(null)}}),1)},getOneQuestionInfo:function(a){try{var c=getJSON("http://211.152.49.184:7001/OneForWeb/one/getOneQuestionInfo?strDate="+a);return c}catch(b){return null}},isCached:function(d,c){var b=this.buildfileurl(d,c);console.log("检查是否已缓存 : "+b);var a=new XMLHttpRequest();a.open("HEAD",b,false);a.send(null);console.log("状态码为 : "+a.status);if(a.status==0){return false}return true},buildfileurl:function(b,a){return"file://"+this.buildurl(b,a)},buildurl:function(b,a){return blackberry.io.home+"/"+b+a+".json"},getJSONAsync:function(c,b,a,d){if(this.isCached(c,b)){d(this.buildfileurl(c,b))}else{console.log("正在下载 : "+c+b);setTimeout(this.geturlAsync(a,this.buildurl(c,b),d),1)}},geturlAsync:function(a,c,d){try{blackberry.io.filetransfer.download(a,c,function(e){console.log("下载成功: "+e.fullPath);d("file://"+e.fullPath)},function(e){console.log("下载失败。");console.log("Error code: "+e.code);console.log("HTTP status: "+e.http_status);console.log("Source: "+e.source);console.log("Target: "+e.target);d(a)})}catch(b){console.log(b);d(a)}}};function removeFile(b,a){var c=blackberry.io.home+"/"+b+a+".json";console.log("删除文件 >> "+c);window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.requestFileSystem(window.PERSISTENT,5*1024*1024,function(d){d.root.getFile(c,{create:false},function(e){e.remove(function(){console.log("文件已删除。")},function(f){console.log(f)})},function(e){console.log(e)})},function(d){console.log(d)})}function removeByDate(a){var b=blackberry.io.home+"/"+a;console.log("删除文件 >> "+b);window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.requestFileSystem(window.PERSISTENT,5*1024*1024,function(c){c.root.getFile(b+"home.json",{create:false},function(d){d.remove(function(){console.log(b+"home.json文件已删除。")},function(e){console.log(e)})},function(d){console.log(d)});c.root.getFile(b+"content.json",{create:false},function(d){d.remove(function(){console.log(b+"content.json文件已删除。")},function(e){console.log(e)})},function(d){console.log(d)});c.root.getFile(b+"question.json",{create:false},function(d){d.remove(function(){console.log(b+"question.json文件已删除。")},function(e){console.log(e)})},function(d){console.log(d)});c.root.getFile(b+".jpg",{create:false},function(d){d.remove(function(){console.log(b+".jpg 文件已删除。")},function(e){console.log(e)})},function(d){console.log(d)})},function(c){console.log(c)})};